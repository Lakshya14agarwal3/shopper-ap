<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Shop Order Management - Track your shop orders with ease">
    <meta name="theme-color" content="#1a1a2e">
    <title>Shop Order Manager</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="app">
        <!-- Welcome Screen - Location Permission -->
        <section id="welcome-screen" class="screen active">
            <div class="screen-content">
                <div class="logo-container">
                    <div class="logo-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />
                        </svg>
                    </div>
                    <h1>Shop Order Manager</h1>
                    <p class="subtitle">Track your shop orders with location</p>
                </div>
                <div class="location-status" id="location-status">
                    <div class="status-icon pending">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                        </svg>
                    </div>
                    <span id="status-text">Tap below to get your location</span>
                </div>
                <div id="coordinates" class="coordinates hidden">
                    <span class="coord-label">LAT</span>
                    <span id="lat-value">--</span>
                    <span class="coord-divider">|</span>
                    <span class="coord-label">LNG</span>
                    <span id="lng-value">--</span>
                </div>
                <button id="get-location-btn" class="btn btn-primary pulse">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z" />
                    </svg>
                    Add New Shop
                </button>

                <!-- Previous Shops Section -->
                <div id="previous-shops-section" class="previous-section hidden">
                    <div class="section-divider">
                        <span>or select existing shop</span>
                    </div>
                    <div id="previous-shops-list" class="previous-list">
                        <!-- Shops will be rendered here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Shop Registration Screen -->
        <section id="shop-screen" class="screen">
            <div class="screen-content">
                <div class="screen-header">
                    <button class="btn-back" id="back-to-welcome">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" />
                        </svg>
                    </button>
                    <h2>Register Shop</h2>
                </div>
                <div class="form-container">
                    <div class="location-badge">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z" />
                        </svg>
                        <span id="shop-location-display">Location captured</span>
                    </div>
                    <div class="input-group">
                        <label for="shop-name">Shop Name</label>
                        <input type="text" id="shop-name" placeholder="Enter shop name..." autocomplete="off">
                    </div>
                    <button id="save-shop-btn" class="btn btn-primary" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" />
                        </svg>
                        Save & Continue
                    </button>
                </div>
            </div>
        </section>

        <!-- Main Dashboard -->
        <section id="dashboard-screen" class="screen">
            <div class="screen-content dashboard">
                <div class="dashboard-header">
                    <div class="shop-info">
                        <h2 id="current-shop-name">Shop Name</h2>
                        <span class="shop-badge" id="current-shop-location">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="12"
                                height="12">
                                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z" />
                            </svg>
                            Location
                        </span>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button id="view-history-btn" class="btn-icon" title="Sales History">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7S3 15.87 3 19.74l1.88 1.88C4.93 21.62 5 21.62 5 21.62v-2.24c0-4.97 4.03-9 9-9s9 4.03 9 9-4.03 9-9 9c-2.12 0-4.07-.74-5.63-1.97l-1.45 1.45C11.69 22.02 12.33 22.02 13 22.02c6.07 0 11-4.93 11-11S19.07 3 13 3zm0 14c-2.21 0-4-1.79-4-4h2c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2-2 .9-2 2h2c0-2.21 1.79-4 4-4s4 1.79 4 4-1.79 4-4 4z" />
                            </svg>
                        </button>
                        <button id="change-shop-btn" class="btn-icon" title="Change Shop">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z" />
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-icon orders">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <span class="stat-value" id="total-orders">0</span>
                            <span class="stat-label">Total Orders</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon value">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <span class="stat-value" id="total-value">₹0</span>
                            <span class="stat-label">Total Value</span>
                        </div>
                    </div>
                </div>

                <!-- Daily Summary -->
                <div class="daily-summary" id="daily-summary">
                    <div class="daily-header" onclick="toggleDailySummary()">
                        <div class="daily-title">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z" />
                            </svg>
                            <span>Today's Summary</span>
                        </div>
                        <div class="daily-total" id="daily-total-value">₹0</div>
                        <svg class="daily-chevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                            fill="currentColor">
                            <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z" />
                        </svg>
                    </div>
                    <div class="daily-content" id="daily-content">
                        <div class="daily-stats">
                            <div class="daily-stat">
                                <span class="daily-stat-value" id="daily-order-count">0</span>
                                <span class="daily-stat-label">Orders</span>
                            </div>
                            <div class="daily-stat">
                                <span class="daily-stat-value" id="daily-items-count">0</span>
                                <span class="daily-stat-label">Items</span>
                            </div>
                        </div>
                        <div class="daily-items-list" id="daily-items-list">
                            <p class="empty-daily">No orders today</p>
                        </div>
                    </div>
                </div>

                <!-- Order History -->
                <div class="orders-section">
                    <div class="section-header">
                        <h3>Order History</h3>
                        <button id="new-order-btn" class="btn btn-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                            </svg>
                            New Order
                        </button>
                    </div>
                    <div id="orders-list" class="orders-list">
                        <div class="empty-state">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z" />
                            </svg>
                            <p>No orders yet</p>
                            <span>Tap "New Order" to add your first order</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- History Screen -->
        <section id="history-screen" class="screen">
            <div class="screen-content">
                <div class="screen-header">
                    <button class="btn-back" id="back-from-history">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" />
                        </svg>
                    </button>
                    <h2>Sales History</h2>
                </div>
                <div id="history-list" class="history-list">
                    <!-- History items will be rendered here -->
                </div>
            </div>
        </section>

        <!-- New Order Modal -->
        <div id="order-modal" class="modal">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3>New Order</h3>
                    <button id="close-modal-btn" class="btn-close">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                        </svg>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="order-items" class="order-items">
                        <!-- Order items will be added here -->
                    </div>
                    <button id="add-item-btn" class="btn btn-outline">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                        </svg>
                        Add Item
                    </button>
                </div>
                <div class="modal-footer">
                    <div class="order-total">
                        <span>Total:</span>
                        <span id="order-total-value">₹0</span>
                    </div>
                    <button id="save-order-btn" class="btn btn-primary" disabled>
                        Save Order
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>